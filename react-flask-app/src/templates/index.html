<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Processing App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div className='container'>
        <h1>Image Processing App</h1>
        <div className='search-section'>
            <form action="/upload" method="post" enctype="multipart/form-data">
                <label for="folder">Choose Folder:</label>
                <input type="file" name="folder[]" webkitdirectory directory multiple required>
                <br>
                <div class="img-area" data-img="">
                    <i class='bx bxs-cloud-upload icon'></i>
                    <h3>Upload Image</h3>
                    <p>Image size must be less than <span>2MB</span></p>
                </div>
                <input type="file" name="gambar1" accept="image/*" id="file" style="display: none" required>
                <button class="select-image" onclick="document.getElementById('file').click()">Select Image</button>
                <br>
                <label for="mode">Choose Mode:</label>
                <select name="mode" id="mode">
                    <option value="color">Color</option>
                    <option value="texture">Texture</option>
                </select>
                <br>
                <button type="submit">Process Images</button>
            </form>
        </div>
        {% if top_images %}
        <div class="results-section">
            <h1>Image Processing Results</h1>
            <p>Elapsed Time: {{ elapsed_time }} seconds</p>
            <h2>Top 10 Similar Images</h2>
            <div class="images">
                {% for image, similarity in top_images %}
                    <div class="image">
                        <img src="{{ url_for('download_file', filename=basename(image)) }}" alt="Similar Image">
                        <p>Similarity: {{ similarity }}%</p>
                    </div>
                {% endfor %}
            </div>
            <form action="{{ url_for('download_pdf') }}" method="get">
                <button type="submit">Download PDF</button>
            </form>
        </div>
    {% endif %}
    </div>
    </body>
</html>